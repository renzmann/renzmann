#!/usr/bin/env python3
from pathlib import Path


def abbrev(s: str) -> str:
    stripped = s.lstrip("./")

    if len(stripped) > 0:
        if s.startswith('.'):
            return f".{stripped[0]}"
        else:
            return stripped[0]
    else:
        return ''

if __name__ == "__main__":
    cwd = Path(".").absolute()
    home = Path().home().absolute()

    try:
        root = "~"
        p = cwd.relative_to(home)
    except ValueError:
        root = "/"
        p = cwd.relative_to("/")

    if p.parts:
        *parts, tail = p.parts
        dirs = [abbrev(s) for s in [root] + list(parts)]
        abbrev_path = dirs + [tail]
        print("/".join(abbrev_path))
    else:
        print(root)
